function supportsAjaxForm(){return document.addEventListener&&"Promise"in window&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&function(){var e;return new window.Promise(function(n){e=n}),"function"==typeof e}()}supportsAjaxForm()&&document.addEventListener("DOMContentLoaded",function(){function e(){var e=[];return p.files.length||e.push("Por favor agrega el archivo crashinfo.txt"),v.files.length||e.push("Por favor agrega el archivo log.txt"),!e.length||(alert(e.join("\n")),!1)}function n(e){var n=new FileReader;n.onload=function(t){d=t.target.result,n.onload=function(t){l=t.target.result,s=m.value,n=void 0,a(e)},n.readAsText(v.files[0])},n.readAsText(p.files[0])}function t(){w.modal({backdrop:"static",keyboard:!1})}function o(e){e=e.toFixed(2),g.css("width",e+"%").attr("aria-valuenow",e),h.text(e+"% completado")}function r(e,n){w.modal("hide"),200==e?alert(n):alert("Error HTTP "+e+" al recibir tu reporte.\n---\n"+n)}function i(e){var n=new FormData;n.append("report",u);var i=new XMLHttpRequest;i.open("POST",e.target.action,!0),i.upload.onprogress=function(e){e.lengthComputable&&o(e.loaded/e.total*100)},i.onload=function(){u=void 0,r(this.status,this.response)},i.send(n),t()}function a(e){var n=new JSZip;n.file("crashinfo.txt",d),n.file("log.txt",l),""!=s&&n.file("feedback.txt",s),n.generateAsync({compression:"DEFLATE",type:"blob"}).then(function(n){u=n,d=void 0,l=void 0,s=void 0,i(e)})}var d,l,s,u,f=function(e){return document.getElementById(e)},c=f("upload_report"),p=f("file_crashinfo"),v=f("file_log"),m=f("text_feedback"),w=jQuery("#modal_enviando"),g=w.find(".progress-bar"),h=g.find(".sr-only");c.addEventListener("submit",function(t){return e()?(n(t),void t.preventDefault()):void t.preventDefault()})});